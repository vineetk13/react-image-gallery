(this["webpackJsonpreact-image-gallery"]=this["webpackJsonpreact-image-gallery"]||[]).push([[0],{14:function(e,t,n){e.exports=n(21)},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),s=n(4),i=n(5),u=n(10),l=n(9),m=(n(19),n(11)),d=n(1),f=n(6),p=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={columns:1},a.onResize=a.onResize.bind(Object(f.a)(a)),a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.onResize(),window.addEventListener("resize",this.onResize)}},{key:"getColumns",value:function(e){return this.props.brakePoints.reduceRight((function(t,n,a){return n<e?t:a}),this.props.brakePoints.length)+1}},{key:"onResize",value:function(){var e=this.getColumns(this.refs.Masonry.offsetWidth);e!==this.state.columns&&this.setState({columns:e})}},{key:"mapChildren",value:function(){for(var e=[],t=this.state.columns,n=0;n<t;n++)e.push([]);return this.props.children.reduce((function(e,n,a){return e[a%t].push(n),e}),e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"masonry",ref:"Masonry"},this.mapChildren().map((function(e,t){return r.a.createElement("div",{className:"column",key:t},e.map((function(e,t){return r.a.createElement("div",{key:t},e)})))})))}}]),n}(r.a.Component),h=r.a.memo((function(e){return r.a.createElement("div",{key:e.id,onClick:function(){return e.handleModal(e.id)},className:"tile"},r.a.createElement("img",{className:"image-tile",src:e.src}))})),v=n(2),b=n.n(v),E=n(8),j=function(){var e=Object(E.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch("https://api.unsplash.com/photos/".concat(n,"?client_id=").concat("CSEtI7CL_AudzbRDMgR2_aOUdVapCfwcvRwLCyNyap0","&fit=crop&h=400"));case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){var t=Object(a.useState)(null),n=Object(d.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)((function(){s(e.id)}),[]);var s=function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:n=e.sent,o(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"modal",style:{transform:e.open?"translateY(0)":"translateY(-100vh)",opacity:e.open?1:0}},r.a.createElement("span",{className:"close-btn",onClick:e.handleModal},"\u274c"),r.a.createElement("div",{className:"imgc"},null!==c&&void 0!==c.urls?r.a.createElement("img",{className:"modal-img",src:c.urls.small}):null),r.a.createElement("button",{onClick:function(){var t=e.photos.findIndex((function(e){return c.id===e.id}));if(t>0){var n=e.photos[--t].id;s(n)}},className:"prev-btn"},"\u2190"),r.a.createElement("button",{onClick:function(){var t=e.photos.findIndex((function(e){return c.id===e.id}));if(t<e.photos.length){var n=e.photos[++t].id;s(n)}},className:"next-btn"},"\u2192"))},y=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(d.a)(o,2),i=s[0],u=s[1],l=Object(a.useState)(!1),f=Object(d.a)(l,2),v=f[0],b=f[1],E=Object(a.useState)(""),j=Object(d.a)(E,2),y=j[0],g=j[1];Object(a.useEffect)((function(){return window.addEventListener("scroll",C),fetch("https://api.unsplash.com/photos/random?client_id=CSEtI7CL_AudzbRDMgR2_aOUdVapCfwcvRwLCyNyap0&count=25").then((function(e){return e.json()})).then((function(e){return c(Object(m.a)(e))})).catch((function(e){return console.log(e)})),function(){return window.removeEventListener("scroll",C)}}),[]),Object(a.useEffect)((function(){i&&fetch("https://api.unsplash.com/photos/random/?client_id=CSEtI7CL_AudzbRDMgR2_aOUdVapCfwcvRwLCyNyap0&count=30").then((function(e){return e.json()})).then((function(e){return c((function(t){return[].concat(Object(m.a)(t),Object(m.a)(e))}))}))}),[i]);var C=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&u(!0)},k=function(e){g(e),b(!v)};return r.a.createElement("div",{className:"masonry-container"},v&&r.a.createElement(O,{photos:n,id:y,open:v,handleModal:k}),r.a.createElement(p,{brakePoints:[350,500,750]},n.map((function(e){return r.a.createElement(h,{src:e.urls.small,id:e.id,handleModal:k})}))))},g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"Photo Feed"),r.a.createElement(y,null))}}]),n}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.528da7f2.chunk.js.map